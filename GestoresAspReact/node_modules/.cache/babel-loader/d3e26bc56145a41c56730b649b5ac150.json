{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\fco_o\\\\OneDrive\\\\Escritorio\\\\crud react asp\\\\crudaspreact\\\\src\\\\App.js\";\nimport React, { useState, useEffect } from 'react';\nimport './App.css';\nimport 'bootstrap/dist/css/bootstrap.min.css';\nimport axios from 'axios';\nimport { Modal, ModalBody, ModalFooter, ModalHeader } from 'reactstrap';\n\nfunction App() {\n  const baseUrl = \"https://localhost:44303/api/gestores\";\n  const [data, setData] = useState([]);\n  const [modalEditar, setModalEditar] = useState(false);\n  const [modalInsertar, setModalInsertar] = useState(false);\n  const [modalEliminar, setModalEliminar] = useState(false);\n  const [gestorSeleccionado, setGestorSeleccionado] = useState({\n    id: '',\n    nombre: '',\n    lanzamiento: '',\n    desarrollador: ''\n  });\n\n  const handleChange = e => {\n    const {\n      name,\n      value\n    } = e.target;\n    setGestorSeleccionado({ ...gestorSeleccionado,\n      [name]: value\n    });\n    console.log(gestorSeleccionado);\n  };\n\n  const abrirCerrarModalInsertar = () => {\n    setModalInsertar(!modalInsertar);\n  };\n\n  const abrirCerrarModalEditar = () => {\n    setModalEditar(!modalEditar);\n  };\n\n  const abrirCerrarModalEliminar = () => {\n    setModalEliminar(!modalEliminar);\n  };\n\n  const peticionGet = async () => {\n    await axios.get(baseUrl).then(response => {\n      setData(response.data);\n    }).catch(error => {\n      console.log(error);\n    });\n  };\n\n  const peticionPost = async () => {\n    delete gestorSeleccionado.id;\n    gestorSeleccionado.lanzamiento = parseInt(gestorSeleccionado.lanzamiento);\n    await axios.post(baseUrl, gestorSeleccionado).then(response => {\n      setData(data.concat(response.data));\n      abrirCerrarModalInsertar();\n    }).catch(error => {\n      console.log(error);\n    });\n  };\n\n  const peticionPut = async () => {\n    gestorSeleccionado.lanzamiento = parseInt(gestorSeleccionado.lanzamiento);\n    await axios.put(baseUrl + \"/\" + gestorSeleccionado.id, gestorSeleccionado).then(response => {\n      var respuesta = response.data;\n      var dataAuxiliar = data;\n      dataAuxiliar.map(gestor => {\n        if (gestor.id === gestorSeleccionado.id) {\n          gestor.nombre = respuesta.nombre;\n          gestor.lanzamiento = respuesta.lanzamiento;\n          gestor.desarrollador = respuesta.desarrollador;\n        }\n      });\n      abrirCerrarModalEditar();\n    }).catch(error => {\n      console.log(error);\n    });\n  };\n\n  const peticionDelete = async () => {\n    await axios.delete(baseUrl + \"/\" + gestorSeleccionado.id).then(response => {\n      setData(data.filter(gestor => gestor.id !== response.data));\n      abrirCerrarModalEliminar();\n    }).catch(error => {\n      console.log(error);\n    });\n  };\n\n  const seleccionarGestor = (gestor, caso) => {\n    setGestorSeleccionado(gestor);\n    caso === \"Editar\" ? abrirCerrarModalEditar() : abrirCerrarModalEliminar();\n  };\n\n  useEffect(() => {\n    peticionGet();\n  }, []);\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"App\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 102,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(\"br\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 103,\n      columnNumber: 7\n    }\n  }), /*#__PURE__*/React.createElement(\"br\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 103,\n      columnNumber: 12\n    }\n  }), /*#__PURE__*/React.createElement(\"button\", {\n    onClick: () => abrirCerrarModalInsertar(),\n    className: \"btn btn-success\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 104,\n      columnNumber: 7\n    }\n  }, \"Insertar Nuevo Gestor\"), /*#__PURE__*/React.createElement(\"br\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 105,\n      columnNumber: 7\n    }\n  }), /*#__PURE__*/React.createElement(\"br\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 105,\n      columnNumber: 12\n    }\n  }), /*#__PURE__*/React.createElement(\"table\", {\n    className: \"table table-bordered\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 106,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"thead\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 107,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"tr\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 108,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"th\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 109,\n      columnNumber: 13\n    }\n  }, \"ID\"), /*#__PURE__*/React.createElement(\"th\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 110,\n      columnNumber: 13\n    }\n  }, \"Nombre\"), /*#__PURE__*/React.createElement(\"th\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 111,\n      columnNumber: 13\n    }\n  }, \"Lanzamiento\"), /*#__PURE__*/React.createElement(\"th\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 112,\n      columnNumber: 13\n    }\n  }, \"Desarrollador\"), /*#__PURE__*/React.createElement(\"th\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 113,\n      columnNumber: 13\n    }\n  }, \"Acciones\"))), /*#__PURE__*/React.createElement(\"tbody\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 116,\n      columnNumber: 9\n    }\n  }, data.map(gestor => /*#__PURE__*/React.createElement(\"tr\", {\n    key: gestor.id,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 118,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"td\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 119,\n      columnNumber: 13\n    }\n  }, gestor.id), /*#__PURE__*/React.createElement(\"td\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 120,\n      columnNumber: 13\n    }\n  }, gestor.nombre), /*#__PURE__*/React.createElement(\"td\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 121,\n      columnNumber: 13\n    }\n  }, gestor.lanzamiento), /*#__PURE__*/React.createElement(\"td\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 122,\n      columnNumber: 13\n    }\n  }, gestor.desarrollador), /*#__PURE__*/React.createElement(\"td\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 123,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"button\", {\n    className: \"btn btn-primary\",\n    onClick: () => seleccionarGestor(gestor, \"Editar\"),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 124,\n      columnNumber: 15\n    }\n  }, \"Editar\"), \" \", \"  \", /*#__PURE__*/React.createElement(\"button\", {\n    className: \"btn btn-danger\",\n    onClick: () => seleccionarGestor(gestor, \"Eliminar\"),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 125,\n      columnNumber: 15\n    }\n  }, \"Eliminar\")))))), /*#__PURE__*/React.createElement(Modal, {\n    isOpen: modalInsertar,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 133,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(ModalHeader, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 134,\n      columnNumber: 7\n    }\n  }, \"Insertar Gestor de Base de Datos\"), /*#__PURE__*/React.createElement(ModalBody, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 135,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"form-group\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 136,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"label\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 137,\n      columnNumber: 11\n    }\n  }, \"Nombre: \"), /*#__PURE__*/React.createElement(\"br\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 138,\n      columnNumber: 11\n    }\n  }), /*#__PURE__*/React.createElement(\"input\", {\n    type: \"text\",\n    className: \"form-control\",\n    name: \"nombre\",\n    onChange: handleChange,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 139,\n      columnNumber: 11\n    }\n  }), /*#__PURE__*/React.createElement(\"br\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 140,\n      columnNumber: 11\n    }\n  }), /*#__PURE__*/React.createElement(\"label\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 141,\n      columnNumber: 11\n    }\n  }, \"Lanzamiento: \"), /*#__PURE__*/React.createElement(\"br\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 142,\n      columnNumber: 11\n    }\n  }), /*#__PURE__*/React.createElement(\"input\", {\n    type: \"text\",\n    className: \"form-control\",\n    name: \"lanzamiento\",\n    onChange: handleChange,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 143,\n      columnNumber: 11\n    }\n  }), /*#__PURE__*/React.createElement(\"br\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 144,\n      columnNumber: 11\n    }\n  }), /*#__PURE__*/React.createElement(\"label\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 145,\n      columnNumber: 11\n    }\n  }, \"Desarrollador: \"), /*#__PURE__*/React.createElement(\"br\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 146,\n      columnNumber: 11\n    }\n  }), /*#__PURE__*/React.createElement(\"input\", {\n    type: \"text\",\n    className: \"form-control\",\n    name: \"desarrollador\",\n    onChange: handleChange,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 147,\n      columnNumber: 11\n    }\n  }), /*#__PURE__*/React.createElement(\"br\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 148,\n      columnNumber: 11\n    }\n  }))), /*#__PURE__*/React.createElement(ModalFooter, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 151,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"button\", {\n    className: \"btn btn-primary\",\n    onClick: () => peticionPost(),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 152,\n      columnNumber: 9\n    }\n  }, \"Insertar\"), \"   \", /*#__PURE__*/React.createElement(\"button\", {\n    className: \"btn btn-danger\",\n    onClick: () => abrirCerrarModalInsertar(),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 153,\n      columnNumber: 9\n    }\n  }, \"Cancelar\"))), /*#__PURE__*/React.createElement(Modal, {\n    isOpen: modalEditar,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 157,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(ModalHeader, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 158,\n      columnNumber: 7\n    }\n  }, \"Editar Gestor de Base de Datos\"), /*#__PURE__*/React.createElement(ModalBody, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 159,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"form-group\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 160,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"label\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 161,\n      columnNumber: 9\n    }\n  }, \"ID: \"), /*#__PURE__*/React.createElement(\"br\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 162,\n      columnNumber: 11\n    }\n  }), /*#__PURE__*/React.createElement(\"input\", {\n    type: \"text\",\n    className: \"form-control\",\n    readOnly: true,\n    value: gestorSeleccionado && gestorSeleccionado.id,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 163,\n      columnNumber: 11\n    }\n  }), /*#__PURE__*/React.createElement(\"br\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 164,\n      columnNumber: 11\n    }\n  }), /*#__PURE__*/React.createElement(\"label\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 165,\n      columnNumber: 11\n    }\n  }, \"Nombre: \"), /*#__PURE__*/React.createElement(\"br\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 166,\n      columnNumber: 11\n    }\n  }), /*#__PURE__*/React.createElement(\"input\", {\n    type: \"text\",\n    className: \"form-control\",\n    name: \"nombre\",\n    onChange: handleChange,\n    value: gestorSeleccionado && gestorSeleccionado.nombre,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 167,\n      columnNumber: 11\n    }\n  }), /*#__PURE__*/React.createElement(\"br\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 168,\n      columnNumber: 11\n    }\n  }), /*#__PURE__*/React.createElement(\"label\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 169,\n      columnNumber: 11\n    }\n  }, \"Lanzamiento: \"), /*#__PURE__*/React.createElement(\"br\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 170,\n      columnNumber: 11\n    }\n  }), /*#__PURE__*/React.createElement(\"input\", {\n    type: \"text\",\n    className: \"form-control\",\n    name: \"lanzamiento\",\n    onChange: handleChange,\n    value: gestorSeleccionado && gestorSeleccionado.lanzamiento,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 171,\n      columnNumber: 11\n    }\n  }), /*#__PURE__*/React.createElement(\"br\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 172,\n      columnNumber: 11\n    }\n  }), /*#__PURE__*/React.createElement(\"label\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 173,\n      columnNumber: 11\n    }\n  }, \"Desarrollador: \"), /*#__PURE__*/React.createElement(\"br\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 174,\n      columnNumber: 11\n    }\n  }), /*#__PURE__*/React.createElement(\"input\", {\n    type: \"text\",\n    className: \"form-control\",\n    name: \"desarrollador\",\n    onChange: handleChange,\n    value: gestorSeleccionado && gestorSeleccionado.desarrollador,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 175,\n      columnNumber: 11\n    }\n  }), /*#__PURE__*/React.createElement(\"br\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 176,\n      columnNumber: 11\n    }\n  }))), /*#__PURE__*/React.createElement(ModalFooter, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 179,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"button\", {\n    className: \"btn btn-primary\",\n    onClick: () => peticionPut(),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 180,\n      columnNumber: 9\n    }\n  }, \"Editar\"), \"   \", /*#__PURE__*/React.createElement(\"button\", {\n    className: \"btn btn-danger\",\n    onClick: () => abrirCerrarModalEditar(),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 181,\n      columnNumber: 9\n    }\n  }, \"Cancelar\"))), /*#__PURE__*/React.createElement(Modal, {\n    isOpen: modalEliminar,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 186,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(ModalBody, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 187,\n      columnNumber: 9\n    }\n  }, \"\\xBFEst\\xE1s seguro que deseas eliminar el Gestor de Base de datos \", gestorSeleccionado && gestorSeleccionado.nombre, \"?\"), /*#__PURE__*/React.createElement(ModalFooter, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 190,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"button\", {\n    className: \"btn btn-danger\",\n    onClick: () => peticionDelete(),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 191,\n      columnNumber: 11\n    }\n  }, \"S\\xED\"), /*#__PURE__*/React.createElement(\"button\", {\n    className: \"btn btn-secondary\",\n    onClick: () => abrirCerrarModalEliminar(),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 194,\n      columnNumber: 11\n    }\n  }, \"No\"))));\n}\n\nexport default App;","map":{"version":3,"sources":["C:/Users/fco_o/OneDrive/Escritorio/crud react asp/crudaspreact/src/App.js"],"names":["React","useState","useEffect","axios","Modal","ModalBody","ModalFooter","ModalHeader","App","baseUrl","data","setData","modalEditar","setModalEditar","modalInsertar","setModalInsertar","modalEliminar","setModalEliminar","gestorSeleccionado","setGestorSeleccionado","id","nombre","lanzamiento","desarrollador","handleChange","e","name","value","target","console","log","abrirCerrarModalInsertar","abrirCerrarModalEditar","abrirCerrarModalEliminar","peticionGet","get","then","response","catch","error","peticionPost","parseInt","post","concat","peticionPut","put","respuesta","dataAuxiliar","map","gestor","peticionDelete","delete","filter","seleccionarGestor","caso"],"mappings":"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","sourcesContent":["import React, { useState , useEffect} from 'react';\nimport './App.css';\nimport 'bootstrap/dist/css/bootstrap.min.css';\nimport axios from 'axios';\nimport {Modal, ModalBody, ModalFooter, ModalHeader} from 'reactstrap';\n\nfunction App() {\n  const baseUrl=\"https://localhost:44303/api/gestores\";\n  const [data, setData]=useState([]);\n  const [modalEditar, setModalEditar]=useState(false);\n  const [modalInsertar, setModalInsertar]=useState(false);\n  const [modalEliminar, setModalEliminar]=useState(false);\n  const [gestorSeleccionado, setGestorSeleccionado]=useState({\n    id: '',\n    nombre: '',\n    lanzamiento: '',\n    desarrollador: ''\n  })\n\n  const handleChange=e=>{\n    const {name, value}=e.target;\n    setGestorSeleccionado({\n      ...gestorSeleccionado,\n      [name]: value\n    });\n    console.log(gestorSeleccionado);\n  }\n\n  const abrirCerrarModalInsertar=()=>{\n    setModalInsertar(!modalInsertar);\n  }\n\n  const abrirCerrarModalEditar=()=>{\n    setModalEditar(!modalEditar);\n  }\n\n   const abrirCerrarModalEliminar=()=>{\n    setModalEliminar(!modalEliminar);\n  }\n\n  const peticionGet=async()=>{\n    await axios.get(baseUrl)\n    .then(response=>{\n      setData(response.data);\n    }).catch(error=>{\n      console.log(error);\n    })\n  }\n\n  const peticionPost=async()=>{\n    delete gestorSeleccionado.id;\n    gestorSeleccionado.lanzamiento=parseInt(gestorSeleccionado.lanzamiento);\n    await axios.post(baseUrl, gestorSeleccionado)\n    .then(response=>{\n      setData(data.concat(response.data));\n      abrirCerrarModalInsertar();\n    }).catch(error=>{\n      console.log(error);\n    })\n  }\n\n  const peticionPut=async()=>{\n    gestorSeleccionado.lanzamiento=parseInt(gestorSeleccionado.lanzamiento);\n    await axios.put(baseUrl+\"/\"+gestorSeleccionado.id, gestorSeleccionado)\n    .then(response=>{\n      var respuesta=response.data;\n      var dataAuxiliar=data;\n      dataAuxiliar.map(gestor=>{\n        if(gestor.id===gestorSeleccionado.id){\n          gestor.nombre=respuesta.nombre;\n          gestor.lanzamiento=respuesta.lanzamiento;\n          gestor.desarrollador=respuesta.desarrollador;\n        }\n      });\n      abrirCerrarModalEditar();\n    }).catch(error=>{\n      console.log(error);\n    })\n  }\n\n  const peticionDelete=async()=>{\n    await axios.delete(baseUrl+\"/\"+gestorSeleccionado.id)\n    .then(response=>{\n     setData(data.filter(gestor=>gestor.id!==response.data));\n      abrirCerrarModalEliminar();\n    }).catch(error=>{\n      console.log(error);\n    })\n  }\n\n  const seleccionarGestor=(gestor, caso)=>{\n    setGestorSeleccionado(gestor);\n    (caso===\"Editar\")?\n    abrirCerrarModalEditar(): abrirCerrarModalEliminar();\n  }\n\n  useEffect(()=>{\n    peticionGet();\n  },[])\n\n  return (\n    <div className=\"App\">\n      <br/><br/>\n      <button onClick={()=>abrirCerrarModalInsertar()} className=\"btn btn-success\">Insertar Nuevo Gestor</button>\n      <br/><br/>\n      <table className=\"table table-bordered\">\n        <thead>\n          <tr>\n            <th>ID</th>\n            <th>Nombre</th>\n            <th>Lanzamiento</th>\n            <th>Desarrollador</th>\n            <th>Acciones</th>\n          </tr>\n        </thead>\n        <tbody>\n        {data.map(gestor=>(\n          <tr key={gestor.id}>\n            <td>{gestor.id}</td>\n            <td>{gestor.nombre}</td>\n            <td>{gestor.lanzamiento}</td>\n            <td>{gestor.desarrollador}</td>\n            <td>\n              <button className=\"btn btn-primary\" onClick={()=>seleccionarGestor(gestor, \"Editar\")}>Editar</button> {\"  \"}\n              <button className=\"btn btn-danger\" onClick={()=>seleccionarGestor(gestor, \"Eliminar\")}>Eliminar</button>\n            </td>\n            </tr>\n        ))}\n        </tbody>\n\n      </table>\n\n      <Modal isOpen={modalInsertar}>\n      <ModalHeader>Insertar Gestor de Base de Datos</ModalHeader>\n      <ModalBody>\n        <div className=\"form-group\">\n          <label>Nombre: </label>\n          <br />\n          <input type=\"text\" className=\"form-control\" name=\"nombre\"  onChange={handleChange}/>\n          <br />\n          <label>Lanzamiento: </label>\n          <br />\n          <input type=\"text\" className=\"form-control\" name=\"lanzamiento\" onChange={handleChange}/>\n          <br />\n          <label>Desarrollador: </label>\n          <br />\n          <input type=\"text\" className=\"form-control\" name=\"desarrollador\" onChange={handleChange}/>\n          <br />\n        </div>\n      </ModalBody>\n      <ModalFooter>\n        <button className=\"btn btn-primary\" onClick={()=>peticionPost()}>Insertar</button>{\"   \"}\n        <button className=\"btn btn-danger\" onClick={()=>abrirCerrarModalInsertar()}>Cancelar</button>\n      </ModalFooter>\n    </Modal>\n\n    <Modal isOpen={modalEditar}>\n      <ModalHeader>Editar Gestor de Base de Datos</ModalHeader>\n      <ModalBody>\n        <div className=\"form-group\">\n        <label>ID: </label>\n          <br />\n          <input type=\"text\" className=\"form-control\" readOnly value={gestorSeleccionado && gestorSeleccionado.id}/>\n          <br />\n          <label>Nombre: </label>\n          <br />\n          <input type=\"text\" className=\"form-control\" name=\"nombre\" onChange={handleChange} value={gestorSeleccionado && gestorSeleccionado.nombre}/>\n          <br />\n          <label>Lanzamiento: </label>\n          <br />\n          <input type=\"text\" className=\"form-control\" name=\"lanzamiento\" onChange={handleChange} value={gestorSeleccionado && gestorSeleccionado.lanzamiento}/>\n          <br />\n          <label>Desarrollador: </label>\n          <br />\n          <input type=\"text\" className=\"form-control\" name=\"desarrollador\" onChange={handleChange} value={gestorSeleccionado && gestorSeleccionado.desarrollador}/>\n          <br />\n        </div>\n      </ModalBody>\n      <ModalFooter>\n        <button className=\"btn btn-primary\" onClick={()=>peticionPut()}>Editar</button>{\"   \"}\n        <button className=\"btn btn-danger\" onClick={()=>abrirCerrarModalEditar()}>Cancelar</button>\n      </ModalFooter>\n    </Modal>\n\n\n    <Modal isOpen={modalEliminar}>\n        <ModalBody>\n        ¿Estás seguro que deseas eliminar el Gestor de Base de datos {gestorSeleccionado && gestorSeleccionado.nombre}?\n        </ModalBody>\n        <ModalFooter>\n          <button className=\"btn btn-danger\" onClick={()=>peticionDelete()}>\n            Sí\n          </button>\n          <button\n            className=\"btn btn-secondary\"\n            onClick={()=>abrirCerrarModalEliminar()}\n          >\n            No\n          </button>\n        </ModalFooter>\n      </Modal>\n\n    </div>\n  );\n}\n\nexport default App;\n"]},"metadata":{},"sourceType":"module"}